(this.webpackJsonptodomvc=this.webpackJsonptodomvc||[]).push([[0],{18:function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),i=n(6),s=n.n(i),r=n(3),a=c.a.createContext(void 0),d=n(0),l=Object(r.a)((function(t){var e=t.store.todoStore,n=e.getLeftItems,o=e.removeCompletedContent,c=function(t){var e=t>1?" items left":" item left";return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("strong",{children:t}),e]})}(n());return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("span",{className:"todo-count",children:c}),Object(d.jsxs)("ul",{className:"filters",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/",className:"all",children:"All"})})," ",Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/active",className:"active",children:"Active"})})," ",Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/completed",className:"completed",children:"Completed"})})]}),Object(d.jsx)("button",{className:"clear-completed",onClick:o,children:"Clear completed"})]})})),u=n(4),j=n(9),h=n.n(j);var b=Object(r.a)((function(t){var e,n=t.id,c=t.content,i=t.checked,s=t.onClickHandler,r=t.editContent,a=Object(o.useState)(!1),l=Object(u.a)(a,2),j=l[0],b=l[1],f=Object(o.useState)(c),O=Object(u.a)(f,2),m=O[0],g=O[1];return e=j?Object(d.jsx)("input",{className:h()({edit:j}),type:"text",autoFocus:!0,value:m,onChange:function(t){var e;g(null===(e=t.target)||void 0===e?void 0:e.value)},onBlur:function(){b((function(t){return!t})),r(n,m)},onKeyDown:function(t){"Enter"===(null===t||void 0===t?void 0:t.code)&&(b((function(t){return!t})),r(n,m))}}):Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{className:"toggle",type:"checkbox",checked:i,readOnly:!0}),Object(d.jsx)("label",{onDoubleClick:function(){b((function(t){return!t}))},children:c}),Object(d.jsx)("button",{className:"destroy"})]}),Object(d.jsx)("li",{className:h()({completed:i},{editing:j}),onClick:function(t){return s(t,n)},children:e})})),f=Object(r.a)((function(t){var e=t.todoList,n=t.onClickHandler,o=t.editContent;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ul",{className:"todo-list",children:e.map((function(t){var e=t.id,c=t.content,i=t.checked;return Object(d.jsx)(b,{id:e,content:c,checked:i,onClickHandler:n,editContent:o},e)}))})})})),O=Object(r.a)((function(t){var e=t.toggleAllCheck,n=t.selectedTodolist,c=Object(o.useState)(!1),i=Object(u.a)(c,2),s=i[0],r=i[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:s,onChange:function(){r((function(t){return!t})),e(s,n)}}),Object(d.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]})})),m=Object(r.a)((function(t){var e=t.store.todoStore,n=e.todoList,o=e.toggleCheck,c=e.removeContent,i=e.toggleAllCheck,s=e.editContent,r=function(t){var e=t;switch(window.location.pathname){case"/":return e;case"/active":return e.filter((function(t){return!1===t.checked}));case"/completed":return e.filter((function(t){return!0===t.checked}))}return e}(n);return Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)(O,{toggleAllCheck:i,selectedTodolist:r}),Object(d.jsx)(f,{todoList:r,onClickHandler:function(t,e){var n=t.target;n.classList.contains("toggle")&&o(e),n.classList.contains("destroy")&&c(e)},editContent:s})]})}));var g=Object(r.a)((function(){return Object(d.jsx)("header",{className:"header",children:Object(d.jsx)("h1",{children:"todos"})})}));var v=Object(r.a)((function(t){var e=t.store,n=Object(o.useState)(""),c=Object(u.a)(n,2),i=c[0],s=c[1],r=e.todoStore.addContent;return Object(d.jsx)("input",{className:"new-todo",type:"text",value:i,onChange:function(t){s(t.target.value)},onKeyDown:function(t){"Enter"===t.code&&(r(i),s(""))},placeholder:"What needs to be done?"})}));var x=Object(r.a)((function(){var t=Object(o.useContext)(a);return Object(d.jsxs)("section",{children:[Object(d.jsx)(g,{}),Object(d.jsx)(v,{store:t}),Object(d.jsx)(m,{store:t}),Object(d.jsx)(l,{store:t})]})})),C=(n(16),n(17),n(7)),L=n(5),k=n(2),p=function t(e){var n=this;Object(C.a)(this,t),this.rootStore=void 0,this.todoList=void 0,this.increaseId=void 0,this.getLocalStorage=function(){return JSON.parse(localStorage.getItem("todoList"))},this.setLocalStorage=function(){localStorage.setItem("todoList",JSON.stringify({todoList:n.todoList,increaseId:n.increaseId}))},this.getLeftItems=function(){return n.todoList.filter((function(t){return!1===t.checked})).length},this.addContent=function(t){n.todoList.push({id:n.increaseId,content:t,checked:!1}),n.increaseId+=1,n.setLocalStorage()},this.editContent=function(t,e){var o=n.findIndex(t);n.todoList[o]=Object(L.a)(Object(L.a)({},n.todoList[o]),{},{content:e}),n.setLocalStorage()},this.toggleCheck=function(t){var e=n.todoList.findIndex((function(e){return e.id===t}));n.checkId(e)&&(n.todoList[e].checked=!n.todoList[e].checked),n.setLocalStorage()},this.toggleAllCheck=function(t,e){n.todoList=n.todoList.map((function(n){return e.map((function(t){return t.id})).includes(n.id)?Object(L.a)(Object(L.a)({},n),{},{checked:!t}):n})),n.setLocalStorage()},this.removeContent=function(t){var e=n.findIndex(t);n.checkId(e)&&n.removeTodoItem(e),n.setLocalStorage()},this.removeCompletedContent=function(){n.todoList=n.todoList.filter((function(t){return!1===t.checked})),n.setLocalStorage()},this.findIndex=function(t){return n.todoList.findIndex((function(e){return e.id===t}))},this.checkId=function(t){return-1!==t},this.removeTodoItem=function(t){n.todoList.splice(t,1)};var o=this.getLocalStorage()||{},c=o.todoList,i=o.increaseId;this.todoList=c||[],this.increaseId=i||0,Object(k.e)(this,{todoList:k.f,addContent:k.b,editContent:k.b,toggleCheck:k.b,toggleAllCheck:k.b,removeContent:k.b,removeCompletedContent:k.b}),this.rootStore=e},S=function t(){Object(C.a)(this,t),this.todoStore=void 0,this.todoStore=new p(this)};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(a.Provider,{value:new S,children:Object(d.jsx)(x,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.62f32ce3.chunk.js.map