(this.webpackJsonptodomvc=this.webpackJsonptodomvc||[]).push([[0],{33:function(t,e,o){"use strict";o.r(e);var n=o(0),c=o.n(n),i=o(11),s=o.n(i),r=o(8),a=o(3),d=o(4),l=c.a.createContext(void 0),j=o(1),u=Object(d.a)((function(t){var e=t.store.todoStore,o=e.getLeftItems,n=e.removeCompletedContent,c=function(t){var e=t>1?" items left":" item left";return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("strong",{children:t}),e]})}(o());return Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("span",{className:"todo-count",children:c}),Object(j.jsxs)("ul",{className:"filters",children:[Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{exact:!0,to:"/",activeClassName:"all",children:"All"})})," ",Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{exact:!0,to:"/active",activeClassName:"active",children:"Active"})})," ",Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{exact:!0,to:"/completed",activeClassName:"completed",children:"Completed"})})]}),Object(j.jsx)("button",{className:"clear-completed",onClick:n,children:"Clear completed"})]})})),h=o(7),b=o(16),O=o.n(b);var f=Object(d.a)((function(t){var e,o=t.id,c=t.content,i=t.checked,s=t.onClickHandler,r=t.editContent,a=Object(n.useState)(!1),d=Object(h.a)(a,2),l=d[0],u=d[1],b=Object(n.useState)(c),f=Object(h.a)(b,2),m=f[0],x=f[1];return e=l?Object(j.jsx)("input",{className:O()({edit:l}),type:"text",autoFocus:!0,value:m,onChange:function(t){var e;x(null===(e=t.target)||void 0===e?void 0:e.value)},onBlur:function(){u((function(t){return!t})),r(o,m)},onKeyDown:function(t){"Enter"===(null===t||void 0===t?void 0:t.code)&&(u((function(t){return!t})),r(o,m))}}):Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{className:"toggle",type:"checkbox",checked:i,readOnly:!0}),Object(j.jsx)("label",{onDoubleClick:function(){u((function(t){return!t}))},children:c}),Object(j.jsx)("button",{className:"destroy"})]}),Object(j.jsx)("li",{className:O()({completed:i},{editing:l}),onClick:function(t){return s(t,o)},children:e})})),m=Object(d.a)((function(t){var e=t.todoList,o=t.onClickHandler,n=t.editContent;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("ul",{className:"todo-list",children:e.map((function(t){var e=t.id,c=t.content,i=t.checked;return Object(j.jsx)(f,{id:e,content:c,checked:i,onClickHandler:o,editContent:n},e)}))})})})),x=Object(d.a)((function(t){var e=t.toggleAllCheck,o=t.selectedTodolist,c=Object(n.useState)(!1),i=Object(h.a)(c,2),s=i[0],r=i[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:s,onChange:function(){r((function(t){return!t})),e(s,o)}}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]})})),v=Object(d.a)((function(t){var e=t.store.todoStore,o=e.todoList,n=e.toggleCheck,c=e.removeContent,i=e.toggleAllCheck,s=e.editContent,r=function(t,e){var o=e;switch(t){case"/":return o;case"/active":return o.filter((function(t){return!1===t.checked}));case"/completed":return o.filter((function(t){return!0===t.checked}))}return o}(Object(a.f)().pathname,o);return Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)(x,{toggleAllCheck:i,selectedTodolist:r}),Object(j.jsx)(m,{todoList:r,onClickHandler:function(t,e){var o=t.target;o.classList.contains("toggle")&&n(e),o.classList.contains("destroy")&&c(e)},editContent:s})]})}));var g=Object(d.a)((function(){return Object(j.jsx)("header",{className:"header",children:Object(j.jsx)("h1",{children:"todos"})})}));var C=Object(d.a)((function(t){var e=t.store,o=Object(n.useState)(""),c=Object(h.a)(o,2),i=c[0],s=c[1],r=e.todoStore.addContent;return Object(j.jsx)("input",{className:"new-todo",type:"text",value:i,onChange:function(t){s(t.target.value)},onKeyDown:function(t){13===t.keyCode&&(r(i),s(""))},placeholder:"What needs to be done?"})}));var p=Object(d.a)((function(){var t=Object(n.useContext)(l);return Object(j.jsxs)("section",{children:[Object(j.jsx)(g,{}),Object(j.jsx)(C,{store:t}),Object(j.jsx)(v,{store:t}),Object(j.jsx)(u,{store:t})]})})),k=o(12),L=o(10),S=o(2),I=function t(e){var o=this;Object(k.a)(this,t),this.rootStore=void 0,this.todoList=void 0,this.increaseId=void 0,this.getLocalStorage=function(){return JSON.parse(localStorage.getItem("todoList"))},this.setLocalStorage=function(){localStorage.setItem("todoList",JSON.stringify({todoList:o.todoList,increaseId:o.increaseId}))},this.getLeftItems=function(){return o.todoList.filter((function(t){return!1===t.checked})).length},this.addContent=function(t){o.todoList.push({id:o.increaseId,content:t,checked:!1}),o.increaseId+=1,o.setLocalStorage()},this.editContent=function(t,e){var n=o.findIndex(t);o.todoList[n]=Object(L.a)(Object(L.a)({},o.todoList[n]),{},{content:e}),o.setLocalStorage()},this.toggleCheck=function(t){var e=o.todoList.findIndex((function(e){return e.id===t}));o.checkId(e)&&(o.todoList[e].checked=!o.todoList[e].checked),o.setLocalStorage()},this.toggleAllCheck=function(t,e){o.todoList=o.todoList.map((function(o){return e.map((function(t){return t.id})).includes(o.id)?Object(L.a)(Object(L.a)({},o),{},{checked:!t}):o})),o.setLocalStorage()},this.removeContent=function(t){var e=o.findIndex(t);o.checkId(e)&&o.removeTodoItem(e),o.setLocalStorage()},this.removeCompletedContent=function(){o.todoList=o.todoList.filter((function(t){return!1===t.checked})),o.setLocalStorage()},this.findIndex=function(t){return o.todoList.findIndex((function(e){return e.id===t}))},this.checkId=function(t){return-1!==t},this.removeTodoItem=function(t){o.todoList.splice(t,1)};var n=this.getLocalStorage()||{},c=n.todoList,i=n.increaseId;this.todoList=c||[],this.increaseId=i||0,Object(S.e)(this,{todoList:S.f,addContent:S.b,editContent:S.b,toggleCheck:S.b,toggleAllCheck:S.b,removeContent:S.b,removeCompletedContent:S.b}),this.rootStore=e},N=function t(){Object(k.a)(this,t),this.todoStore=void 0,this.todoStore=new I(this)};o(31),o(32);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(r.a,{basename:"/todomvc",children:Object(j.jsx)(l.Provider,{value:new N,children:Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{exact:!0,path:"/",component:p}),Object(j.jsx)(a.a,{exact:!0,path:"/active",component:p}),Object(j.jsx)(a.a,{exact:!0,path:"/completed",component:p})]})})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.451af76c.chunk.js.map